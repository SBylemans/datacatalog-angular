<div class="container-fluid">
  <div class="row">
    <div class="col-md-2">
      <div class="col-md-12 menu">
        <div class="menutitle">Facet Search</div>
        <div *ngFor="let element of elements">
          <label>{{element.title}}</label>
          <div *ngFor="let sub of element.subElements">
            <input type="checkbox" [(ngModel)]="sub.checked" (ngModelChange)="facetedSearch(element, sub)"/>&nbsp;<span>{{sub.value}}</span>
          </div>
        </div>
      </div>
    </div>

    <ul class="col-md-5 offset-md-1 datasources">
      <p>Number of datasources: {{getData().length}}</p>
        <div *ngFor="let d of getData()">
          <li>{{d.name}}</li>
          <span>{{d.freeText}}</span>
          <div>
            <div class="location" *ngFor="let location of d.meta['location']">
              <i class="fa fa-map-marker"></i>&nbsp;<span>{{location}}</span>
            </div>
          </div>
        </div>
    </ul>
    <div class="col-md-4 form-group search-bar">
      <input class="rounded" [(ngModel)]="searchTerm" type="text"/>
      <i *ngIf="searchTerm && searchTerm !== ''" class="fa fa-times" (click)="delete()"></i>
      <button class="btn btn-primary" (click)="search()"><i class="fa fa-search"></i></button>
      <button class="btn" routerLink="/datacatalog/add" *ngIf="user.isAdmin()">Add datasource</button>
    </div>
  </div>
</div>
